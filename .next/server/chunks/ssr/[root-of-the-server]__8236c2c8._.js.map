{"version":3,"sources":["../../../../../../Desktop/Elyon_2/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../../../Desktop/Elyon_2/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../../../Desktop/Elyon_2/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../../../Desktop/Elyon_2/app/dashboard/sms/templates/page.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { Card } from '@/components/ui/card'\nimport { Input } from '@/components/ui/input'\n\ninterface SMSTemplate {\n  id: string\n  name: string\n  template_key: string\n  message_content: string\n  variables_used: string[]\n  is_active: boolean\n}\n\nexport default function SMSTemplatesPage() {\n  const [templates, setTemplates] = useState<SMSTemplate[]>([])\n  const [loading, setLoading] = useState(true)\n  const [editingId, setEditingId] = useState<string | null>(null)\n  const [editContent, setEditContent] = useState('')\n\n  useEffect(() => {\n    fetchTemplates()\n  }, [])\n\n  const fetchTemplates = async () => {\n    try {\n      const response = await fetch('/api/sms/templates')\n      const data = await response.json()\n      setTemplates(data.data || [])\n    } catch (error) {\n      console.error('Error fetching templates:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleSaveTemplate = async (templateId: string) => {\n    try {\n      const response = await fetch('/api/sms/templates', {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          id: templateId,\n          message_content: editContent,\n        }),\n      })\n\n      if (response.ok) {\n        alert('Template saved successfully!')\n        setEditingId(null)\n        fetchTemplates()\n      }\n    } catch (error) {\n      console.error('Error saving template:', error)\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-3xl font-bold\">SMS Templates</h1>\n\n      {loading ? (\n        <p>Loading templates...</p>\n      ) : (\n        <div className=\"space-y-4\">\n          {templates.map((template) => (\n            <Card key={template.id} className=\"p-6\">\n              <div className=\"mb-4\">\n                <h3 className=\"text-lg font-semibold\">{template.name}</h3>\n                <p className=\"text-sm text-muted-foreground\">Key: {template.template_key}</p>\n              </div>\n\n              {editingId === template.id ? (\n                <div className=\"space-y-4\">\n                  <textarea\n                    className=\"w-full p-3 border rounded-md font-mono text-sm\"\n                    rows={6}\n                    value={editContent}\n                    onChange={(e) => setEditContent(e.target.value)}\n                  />\n                  <div className=\"flex gap-2\">\n                    <Button\n                      onClick={() => handleSaveTemplate(template.id)}\n                      className=\"bg-green-600 hover:bg-green-700\"\n                    >\n                      Save Changes\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      onClick={() => setEditingId(null)}\n                    >\n                      Cancel\n                    </Button>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  <div className=\"p-4 bg-muted rounded-md\">\n                    <p className=\"text-sm whitespace-pre-wrap\">{template.message_content}</p>\n                  </div>\n                  {template.variables_used.length > 0 && (\n                    <div className=\"text-sm\">\n                      <p className=\"font-medium mb-2\">Variables:</p>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {template.variables_used.map((variable) => (\n                          <code\n                            key={variable}\n                            className=\"bg-blue-100 text-blue-900 px-2 py-1 rounded text-xs\"\n                          >\n                            {'{' + variable + '}'}\n                          </code>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                  <div className=\"flex justify-between items-center\">\n                    <span\n                      className={`text-xs px-2 py-1 rounded ${\n                        template.is_active\n                          ? 'bg-green-100 text-green-800'\n                          : 'bg-gray-100 text-gray-800'\n                      }`}\n                    >\n                      {template.is_active ? 'Active' : 'Inactive'}\n                    </span>\n                    <Button\n                      variant=\"outline\"\n                      onClick={() => {\n                        setEditingId(template.id)\n                        setEditContent(template.message_content)\n                      }}\n                    >\n                      Edit Template\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </Card>\n          ))}\n        </div>\n      )}\n\n      <Card className=\"p-6 bg-blue-50\">\n        <h3 className=\"font-semibold mb-3\">Variable Reference</h3>\n        <div className=\"grid md:grid-cols-2 gap-2 text-sm\">\n          <p><code>{'{customer_name}'}</code> - User first name</p>\n          <p><code>{'{amount}'}</code> - Transaction amount</p>\n          <p><code>{'{expiry_date}'}</code> - Subscription end date</p>\n          <p><code>{'{company_name}'}</code> - ISP company name</p>\n        </div>\n      </Card>\n    </div>\n  )\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2]}