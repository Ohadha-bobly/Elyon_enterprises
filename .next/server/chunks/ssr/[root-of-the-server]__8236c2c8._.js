module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},15718,(a,b,c)=>{"use strict";b.exports=a.r(18622)},24400,(a,b,c)=>{"use strict";b.exports=a.r(15718).vendored["react-ssr"].ReactJsxRuntime},91186,(a,b,c)=>{"use strict";b.exports=a.r(15718).vendored["react-ssr"].React},21274,a=>{"use strict";var b=a.i(24400),c=a.i(91186),d=a.i(81197),e=a.i(13757);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)("");(0,c.useEffect)(()=>{m()},[]);let m=async()=>{try{let a=await fetch("/api/sms/templates"),b=await a.json();f(b.data||[])}catch(a){console.error("Error fetching templates:",a)}finally{h(!1)}},n=async a=>{try{(await fetch("/api/sms/templates",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,message_content:k})})).ok&&(alert("Template saved successfully!"),j(null),m())}catch(a){console.error("Error saving template:",a)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"SMS Templates"}),g?(0,b.jsx)("p",{children:"Loading templates..."}):(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsxs)(e.Card,{className:"p-6",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Key: ",a.template_key]})]}),i===a.id?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("textarea",{className:"w-full p-3 border rounded-md font-mono text-sm",rows:6,value:k,onChange:a=>l(a.target.value)}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{onClick:()=>n(a.id),className:"bg-green-600 hover:bg-green-700",children:"Save Changes"}),(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>j(null),children:"Cancel"})]})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"p-4 bg-muted rounded-md",children:(0,b.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:a.message_content})}),a.variables_used.length>0&&(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"Variables:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.variables_used.map(a=>(0,b.jsx)("code",{className:"bg-blue-100 text-blue-900 px-2 py-1 rounded text-xs",children:"{"+a+"}"},a))})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded ${a.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.is_active?"Active":"Inactive"}),(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>{j(a.id),l(a.message_content)},children:"Edit Template"})]})]})]},a.id))}),(0,b.jsxs)(e.Card,{className:"p-6 bg-blue-50",children:[(0,b.jsx)("h3",{className:"font-semibold mb-3",children:"Variable Reference"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-2 text-sm",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("code",{children:"{customer_name}"})," - User first name"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("code",{children:"{amount}"})," - Transaction amount"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("code",{children:"{expiry_date}"})," - Subscription end date"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("code",{children:"{company_name}"})," - ISP company name"]})]})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8236c2c8._.js.map