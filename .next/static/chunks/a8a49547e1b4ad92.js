(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29637,e=>{"use strict";var t=e.i(41627),s=e.i(38989),l=e.i(14264),a=e.i(36722);function n(){let[e,n]=(0,s.useState)([]),[i,c]=(0,s.useState)(!0),[d,r]=(0,s.useState)("all");(0,s.useEffect)(()=>{o()},[d]);let o=async()=>{try{let e=await fetch(`/api/sms/logs?status=${"all"===d?"":d}`),t=await e.json();n(t.data||[])}catch(e){console.error("Error fetching logs:",e)}finally{c(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"SMS Logs"}),(0,t.jsx)(a.Button,{onClick:()=>window.location.reload(),children:"Refresh"})]}),(0,t.jsxs)(l.Card,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,t.jsx)(a.Button,{variant:"all"===d?"default":"outline",onClick:()=>r("all"),children:"All"}),(0,t.jsx)(a.Button,{variant:"sent"===d?"default":"outline",onClick:()=>r("sent"),children:"Sent"}),(0,t.jsx)(a.Button,{variant:"failed"===d?"default":"outline",onClick:()=>r("failed"),children:"Failed"}),(0,t.jsx)(a.Button,{variant:"pending"===d?"default":"outline",onClick:()=>r("pending"),children:"Pending"})]}),i?(0,t.jsx)("p",{children:"Loading..."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"border-b",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left py-2",children:"Phone"}),(0,t.jsx)("th",{className:"text-left py-2",children:"Message"}),(0,t.jsx)("th",{className:"text-left py-2",children:"Type"}),(0,t.jsx)("th",{className:"text-left py-2",children:"Status"}),(0,t.jsx)("th",{className:"text-left py-2",children:"Sent At"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{className:"border-b hover:bg-muted",children:[(0,t.jsx)("td",{className:"py-2",children:e.phone_number}),(0,t.jsxs)("td",{className:"py-2 text-sm",children:[e.message_content.substring(0,50),"..."]}),(0,t.jsx)("td",{className:"py-2",children:e.sms_type}),(0,t.jsx)("td",{className:"py-2",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"sent"===e.status?"bg-green-100 text-green-800":"failed"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})}),(0,t.jsx)("td",{className:"py-2 text-sm",children:new Date(e.sent_at).toLocaleString()})]},e.id))})]})})]})]})}e.s(["default",()=>n])}]);