{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GEOFFREY/Desktop/Elyon_2/app/dashboard/clients/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { createBrowserClient } from '@supabase/ssr'\nimport Link from 'next/link'\n\ninterface Client {\n  id: string\n  email: string\n  first_name: string\n  last_name: string\n  phone: string\n  user_type: string\n  status: string\n  created_at: string\n}\n\nexport default function ClientsPage() {\n  const [clients, setClients] = useState<Client[]>([])\n  const [loading, setLoading] = useState(true)\n  const [showForm, setShowForm] = useState(false)\n  const [filter, setFilter] = useState('all')\n\n  const supabase = createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  )\n\n  useEffect(() => {\n    fetchClients()\n  }, [filter])\n\n  const fetchClients = async () => {\n    try {\n      setLoading(true)\n      let query = supabase.from('users').select('*')\n\n      if (filter !== 'all') {\n        query = query.eq('user_type', filter)\n      }\n\n      const { data, error } = await query\n        .in('user_type', ['pppoe', 'hotspot', 'reseller'])\n        .order('created_at', { ascending: false })\n\n      if (error) throw error\n      setClients(data || [])\n    } catch (error) {\n      console.error('Error fetching clients:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-foreground\">Clients</h1>\n          <p className=\"text-muted mt-2\">Manage all users and subscriptions</p>\n        </div>\n        <button\n          onClick={() => setShowForm(!showForm)}\n          className=\"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition\"\n        >\n          + Add Client\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex gap-2\">\n        {['all', 'pppoe', 'hotspot', 'reseller'].map((type) => (\n          <button\n            key={type}\n            onClick={() => setFilter(type)}\n            className={`px-4 py-2 rounded-lg transition ${\n              filter === type\n                ? 'bg-primary text-white'\n                : 'bg-card border border-border text-foreground hover:border-primary'\n            }`}\n          >\n            {type.toUpperCase()}\n          </button>\n        ))}\n      </div>\n\n      {/* Table */}\n      <div className=\"bg-card border border-border rounded-xl overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-border\">\n                <th className=\"px-6 py-3 text-left text-sm font-semibold text-foreground\">Name</th>\n                <th className=\"px-6 py-3 text-left text-sm font-semibold text-foreground\">Email</th>\n                <th className=\"px-6 py-3 text-left text-sm font-semibold text-foreground\">Type</th>\n                <th className=\"px-6 py-3 text-left text-sm font-semibold text-foreground\">Status</th>\n                <th className=\"px-6 py-3 text-left text-sm font-semibold text-foreground\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {loading ? (\n                <tr>\n                  <td colSpan={5} className=\"px-6 py-8 text-center text-muted\">\n                    Loading...\n                  </td>\n                </tr>\n              ) : clients.length === 0 ? (\n                <tr>\n                  <td colSpan={5} className=\"px-6 py-8 text-center text-muted\">\n                    No clients found\n                  </td>\n                </tr>\n              ) : (\n                clients.map((client) => (\n                  <tr key={client.id} className=\"border-b border-border last:border-0 hover:bg-card-hover transition\">\n                    <td className=\"px-6 py-4 text-sm text-foreground\">\n                      {client.first_name} {client.last_name}\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-foreground\">{client.email}</td>\n                    <td className=\"px-6 py-4 text-sm\">\n                      <span className={`px-2 py-1 rounded text-xs font-semibold ${\n                        client.user_type === 'pppoe'\n                          ? 'bg-info/20 text-info'\n                          : 'bg-success/20 text-success'\n                      }`}>\n                        {client.user_type.toUpperCase()}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm\">\n                      <span className={`px-2 py-1 rounded text-xs font-semibold ${\n                        client.status === 'active'\n                          ? 'bg-success/20 text-success'\n                          : 'bg-error/20 text-error'\n                      }`}>\n                        {client.status.toUpperCase()}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm\">\n                      <Link\n                        href={`/dashboard/clients/${client.id}`}\n                        className=\"text-primary hover:text-primary-light transition\"\n                      >\n                        View\n                      </Link>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}